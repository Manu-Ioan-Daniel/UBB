În anumite situații este necesar sa cunoaștem probabilitatea unui eveniment particular,  
care urmează să aibă loc, știind deja că alt eveniment a avut loc.  
### Experiment: 
Se aruncă simultan două zaruri. Notăm cu S suma numerelor rezultate  
din aruncarea celor două zaruri.  
1) P(S = 11) = ?  
2) Dacă se știe că S este un număr prim, care este probabilitatea ca S = 11?
#### Answers:
1) P(S = 11) = $\frac {2}{36} = \frac {1}{18}$
2) P(S = 11 | S numar prim) = $\frac {1}{5}$ 
### Definitie probabilitate conditionata
Fie (Ω, K, P) un spațiu de probabilitate și fie A, B ∈ K. Probabilitatea condiționată  
a evenimentului A de către evenimentul B este $P(\cdot | B) : \mathcal K \to [0,1]$ definită prin:
 $$P(A|B) = \frac {P(A \cap B)}{P(B)}$$***P(A|B)*** este probabilitatea apariției evenimentului A, știind că evenimentul B s-a produs.
- P(A|B): probabilitatea condiționată a lui A de către B, este probabilitatea de a se  
realiza evenimentul A dacă în prealabil s-a realizat evenimentul B.  
- Fie evenimentele A, B ∈ K astfel încât P(A) > 0 și P(B) > 0. Evenimentele A și  
	B sunt independente, dacă apariția evenimentului A nu influențează apariția lui B și invers, adică  
$P(A|B) = P(A) \text{ și } P(B|A) = P(B)$.
- Într-un experiment în care cazurile posibile sunt finite la număr și au aceleași șanse de a se realiza, atunci se poate folosi :
  $$P(E|F) = \frac {\text {numărul de cazuri favorabile apariției lui E} \cap F} { \text {numărul de cazuri favorabile pentru apariția lui F.}}$$

### Exemplu 1: 
Se extrag succesiv fără returnare două bile dintr-o urnă cu 4 bile albe și 5 bile roșii.  
#### Questions:
1. Știind că prima bilă este roșie, care este probabilitatea (condiționată) ca a doua bilă să fie albă? 
2. Care este probabilitatea ca ambele bile să fie roșii?  
#### Answers:
Pentru i ∈ {1, 2} fie evenimentele  
$R_i$ : la a i-a extragere s-a obținut o bilă roșie;  
$A_i$ = $\overline R_i$ : la a i-a extragere s-a obținut o bilă albă;  
1. $\displaystyle P(A_2 | R_1) = \frac {P(A_2 \cap R_1)}{P(R_1)} = \frac {\frac {5}{9} \cdot \frac {4}{8}}{\frac {5}{9}} = \frac {4}{8} = \frac {1}{2}$
2. $\displaystyle P(R_1 \cap R_2) = P(R_1 | R_2) \cdot P(R_2) = \frac {4}{8} \cdot \frac {5}{9} = \frac {5}{18}$

### Formule

Pentru $A, B \in K$, $P(A) > 0$, $P(B) > 0$ au loc:  
1. $P(A \cap B) = P(B) \cdot P(A \mid B) = P(A) \cdot P(B \mid A)$,  
2. $P( \overline {A} \mid B) = 1 - P(A \mid B)$.
### Definitie partitie

O familie ${H_1, \ldots, H_n} \subset K$ de evenimente din $\Omega$ se numește partiție sau sistem  
complet de evenimente a lui $\Omega$, dacă  
$H_1 \cup \ldots \cup H_n = \Omega$ și pentru fiecare $i, j \in {1, \ldots, n}$, $i \neq j$,  
evenimentele $H_i$ și $H_j$ sunt disjuncte, adică $H_i \cap H_j = \varnothing$.

#### Exemplu :

Dacă $B \subset \Omega$ atunci ${B, \overline{B}}$ formează o partiție a lui $\Omega$.

---

### Formula probabilității totale
Într-un spațiu de probabilitate $(\Omega, K, P)$ considerăm partiția ${H_1, \ldots, H_n}$ a lui $\Omega$ cu $H_i \in K$ și $P(H_i) > 0$ pentru orice $i \in {1,\ldots,n}$, și fie $A \in K$.  Atunci are loc  
$$P(A) = P(A \mid H_1)P(H_1) + \ldots + P(A \mid H_n)P(H_n)$$

#### Exemplu 2:  
Într-o urnă sunt 7 bile albe, notate cu $1,2,3,4,5,6,7$, și 6 bile roșii notate cu $8,9,10,11,12,13$.  
Se extrag succesiv fără returnare două bile.  
##### Questions
1. Știind că prima bilă extrasă este roșie, care este probabilitatea $p_1$ ca numărul de pe bilă să fie divizibil cu 4?  
2. Știind că prima bilă este roșie, care este probabilitatea $p_2$ ca a doua bilă extrasă să indice un număr impar?
##### Answers
Se consideră evenimentele:  
- $D_1$: prima bilă extrasă are înscris un număr divizibil cu 4;  
- $R_1$: prima bilă extrasă este roșie;  
- $I_1$: prima bilă extrasă are înscris un număr impar;  
- $I_2$: a doua bilă extrasă are înscris un număr impar.

1. $p_1 = P(D_1 \mid R_1) = \frac{2}{6}$.

 2.  $\displaystyle p_2 = P(I_2 \mid R_1) = \frac{P(I_2 \cap R_1)}{P(R_1)}$
    $\displaystyle= \frac{P(I_2 \cap R_1 \cap I_1) + P(I_2 \cap R_1 \cap \overline{I_1})}{P(R_1)}$
    = $\displaystyle\frac{P(I_2 \mid R_1 \cap I_1)P(R_1 \cap I_1) + P(I_2 \mid R_1 \cap \overline{I_1})P(R_1 \cap \overline{I_1})}{P(R_1)}$
    = $\displaystyle \frac{\frac{6}{12}\cdot\frac{3}{13} + \frac{7}{12}\cdot\frac{3}{13}}{\frac{6}{13}}$
    = $\displaystyle \frac{13}{24}$
    
### Exemplu 3
Ce probabilitati calculeaza programul de mai jos?

```python
import random; import numpy
c1,c2,a1,a2=0,0,0,0
N=10000
A= list(range(1,21))
for _ in range(N):
    i=numpy.random.randint(len(A))
    v=A[i]
    c1=c1+(v%2) #numarul de numere impare generate
    c2=c2+((v%2)==0) #numarul de numere pare generate
    a1=a1+(v%2)*((v%3)==0) #numarul de numere impare divizibile cu 3
    a2=a2+ ((v%2)==0)*(6<=v and v<=10) #numarul de numere pare intre 6 si 10 
p1=a1/c1
p2=a2/c2
p3=c1/N
print(f"p1={p1:.6f}")
print(f"p2={p2:.6f}")
print(f"p3={p3:.6f}")

```
#### Output
>p1=0.299698
p2=0.308441
p3=0.496500
#### Question
Care sunt valorile teoretice pentru p1,p2,p3 din exemplul de mai sus?
#### Answer
Definim urmatoarele evenimente:
- $I$ : numarul generat este impar
- $I_3$ : numarul generat este impar divizibil cu 3
- $P_{6-10}$ : numarul generat este par si in intervalul [6,10]
1. $\displaystyle P_1 = P(I_3 \mid I) = \frac {P(I_3 \cap I)}{P(I)} = \frac {\frac {3}{20}}{\frac {1}{2}} = \frac {3}{10}$
2. $\displaystyle P_2 = P(P_{6-10} \mid \overline I) = \frac {P(P_{6-10} \cap \overline I)}{P( \overline I)} = \frac {\frac {3}{20}}{\frac {1}{2}} = \frac {3}{10}$  
3. $\displaystyle P_3 = P(I) = \frac {1}{2}$

---

### Formula înmulțirii probabilităților

Fie $(\Omega, K, P)$ un spațiu de probabilitate și fie $A_1, \ldots, A_n \in K$ astfel încât  
$P(A_1 \cap \ldots \cap A_{n-1}) > 0$. Atunci:

$$P(A_1 \cap \ldots \cap A_n) = P(A_1) \cdot P(A_2 \mid A_1) \cdot \ldots \cdot P(A_n \mid A_1 \cap \ldots \cap A_{n-1})$$

### Observație

1. Formula înmulțirii probabilităților a două evenimente (pentru $n = 2$) este:  
    $P(A_1 \cap A_2) = P(A_1) \cdot P(A_2 \mid A_1)$.
    
2. Dacă evenimentele $A_1, \ldots, A_n$ sunt independente în totalitate, atunci:  
    $P(A_1 \cap \ldots \cap A_n) = P(A_1) \cdot P(A_2) \cdot \ldots \cdot P(A_n)$.
    


### Exemplu 4

Într-o urnă sunt 2 bile verzi și 3 bile albastre. Se extrag 2 bile succesiv, fără returnare.  
#### Questions
Se cere probabilitatea ca:
1. prima bilă să fie verde, iar cea de-a doua albastră.  
2. cele 2 bile să aibă aceeași culoare.  
3. a doua bilă să fie albastră.  
4. prima bilă să fie verde, știind că a doua este albastră.  
5. se extrage o a treia bilă; probabilitatea ca prima bilă să fie verde, a doua albastră, a treia albastră.
---

#### Answers
Definim urmatoarele evenimente:
- $V_1$ : prima bila este verde
- $V_2$ : a doua bila este verde
- $A_1$ : prima bila este albastra
- $A_2$ : a doua bila este albastra
---
1. $\displaystyle P(A_2 \cap V_1) = P(V_1) \cdot P(A_2 \mid V_1) = \frac {2}{5} \cdot \frac {3}{4} = \frac {3}{10}$
2. $\displaystyle  P(V_1 \cap V_2) + P(A_1 \cap A_2) = \frac {2}{5} \cdot \frac {1}{4} + \frac {3}{5} \cdot \frac {2}{4} = \frac {3}{5}$
3. $\displaystyle P(A_2) = P(A_2 \cap A_1) + P(A_2 \cap \overline A_1) = P(A_2 \mid A_1) \cdot P(A_1) + P(A_2 \mid \overline A_1) \cdot P(\overline A_1)$
   $\displaystyle =\frac {3}{10} + \frac {3}{4} \cdot \frac {2}{5} = \frac {3}{5}$
4. $\displaystyle P(V_1 \mid A_2) = \frac {P(V_1 \cap A_2)}{P(A_2)} = \frac {\frac {3}{10}}{\frac {3}{5}} = \frac {1}{2}$
5. $\displaystyle P(V_1 \cap A_2 \cap A_3) = P(V_1) \cdot P(A_2 \mid V_1) \cdot P(A_3 \mid V_1 \cap A_2) = \frac {2}{5} \cdot \frac {3}{4} \cdot \frac {2}{3} = \frac {1}{5}$
